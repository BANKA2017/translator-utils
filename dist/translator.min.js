!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).translator=e()}(this,(function(){"use strict";const t=["sq","ar","am","as","az","ee","ay","ga","et","or","om","eu","be","bm","bg","is","pl","bs","fa","bho","af","tt","da","de","dv","ti","doi","ru","fr","sa","tl","fi","fy","km","ka","gom","gu","gn","kk","ht","ko","ha","nl","ky","gl","ca","cs","kn","co","kri","hr","qu","ku","ckb","la","lv","lo","lt","ln","lg","lb","rw","ro","mg","mt","mr","ml","ms","mk","mai","mi","mni-mtei","mn","bn","lus","my","hmn","xh","zu","ne","no","pa","pt","ps","ny","ak","ja","sv","sm","sr","nso","st","si","eo","sk","sl","sw","gd","ceb","so","tg","te","ta","th","tr","tk","cy","ug","ur","uk","uz","es","iw","el","haw","sd","hu","sn","hy","ig","ilo","it","yi","hi","su","id","jw","en","yo","vi","zh-tw","zh-cn","ts"],e=["lzh","ikt","iu-latn","mn-cyrl","mn-mong","hsb","zh-hans","zh-hant","da","uk","uz","ur","nb","hy","ru","bg","tlh-latn","hr","otq","is","gl","ca","hu","af","kn","hi","id","gu","kk","iu","tk","tr","ty","sr-latn","sr-cyrl","or","cy","bn","yua","ne","ba","eu","he","el","ku","kmr","de","it","lv","cs","ti","fj","sk","sl","sw","pa","ja","ps","ky","ka","mi","to","fo","fr","fr-ca","pl","bs","fa","te","ta","th","ht","ga","et","sv","zu","lt","yue","so","ug","my","ro","lo","fi","mww","en","nl","fil","sm","pt","pt-pt","bo","es","vi","prs","dv","az","am","sq","ar","as","tt","ko","mk","mg","mr","ml","ms","mt","km"],a=["ar","pl","da","de","ru","fr","fi","ko","nl","cs","pt","ja","sv","th","tr","es","hu","en","it","vi","zh-CHS"],r=["af","sq","am","ar","hy","az","ba","eu","be","bn","bs","bg","my","ca","ceb","zh","cv","hr","cs","da","nl","sjn","emj","en","eo","et","fi","fr","gl","ka","de","el","gu","ht","he","mrj","hi","hu","is","id","ga","it","ja","jv","kn","kk","kazlat","km","ko","ky","lo","la","lv","lt","lb","mk","mg","ms","ml","mt","mi","mr","mhr","mn","ne","no","pap","fa","pl","pt","pt-br","pa","ro","ru","gd","sr","sr-latn","si","sk","sl","es","su","sw","sv","tl","tg","ta","tt","te","th","tr","udm","uk","ur","uz","uzbcyr","vi","cy","xh","sah","yi","zu"],n=(t,e)=>t.map((t=>t.toLowerCase())).includes(e.toLowerCase());const o=new class{requestHandle(t,e,a={}){a.timeout||(a.timeout=3e4);const r="post"===(a?.method??"").toLowerCase()&&e;return a.headers||(a.headers={}),a.headers?.["content-type"]||(a.headers["content-type"]="application/x-www-form-urlencoded"),r&&("object"==typeof e&&(e=JSON.stringify(e),a.headers["content-type"]="application/json"),a.headers["content-length"]=e.length,a.body=e),new Promise(((e,r)=>{fetch(t,a).then((async t=>({response:t,data:await t.text()}))).then((t=>{e(this.responseBuilder(t.response,t.data))})).catch((t=>{r({cause:t,toString:()=>t.toString()})}))}))}responseBuilder(t,e){e=e.toString();try{e=JSON.parse(e)}catch(t){}let a=Object.fromEntries(t.headers.entries());return a["set-cookie"]&&t.headers.getAll?a["set-cookie"]=t.headers.getAll("set-cookie"):a["set-cookie"]&&(a["set-cookie"]=[...t.headers.entries()].filter((t=>"set-cookie"===t[0])).map((t=>t[1]))),{status:t.status,statusText:t.statusText,headers:a,data:e}}get(t,e){return e.method="GET",this.requestHandle(t,null,e)}post(t,e,a){return a.method="POST",this.requestHandle(t,e,a)}},s=function(t,e){let a=0;for(;a<e.length-2;a+=3){let r=e.charAt(a+2);r="a"<=r?r.charCodeAt(0)-87:Number(r),r="+"==e.charAt(a+1)?t>>>r:t<<r,t="+"==e.charAt(a)?t+r&4294967295:t^r}return t},i=(t="",e=[464385,3806605782])=>{let a;a=t instanceof Array?JSON.parse(JSON.stringify(t)).join(""):t;const r=function(t){let e=[],a=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);128>n?e[a++]=n:(2048>n?e[a++]=n>>6|192:(55296==(64512&n)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++r)),e[a++]=n>>18|240,e[a++]=n>>12&63|128):e[a++]=n>>12|224,e[a++]=n>>6&63|128),e[a++]=63&n|128)}return e}(a);let n=e[0];for(const t of r)n+=t,n=s(n,"+-a^+6");return n=s(n,"+-3^+b+-f"),n^=e[1]?e[1]+0:0,n<0&&(n=2147483648+(2147483647&n)),n%=1e6,n.toString()+"."+(n^e[0])},c=async(t="",a="auto",r,s)=>{if(!t)return await Promise.reject("Empty text #MicrosoftTranslator ");if(!n(e,r||"en")||"auto"!==a&&!n(e,a||"en"))return await Promise.reject("Not supported target language #MicrosoftTranslator ");const i=await(async()=>{try{return(await o.get("https://edge.microsoft.com/translate/auth")).data}catch(t){return""}})();return i?await new Promise((async(e,n)=>{o.post(`https://api.cognitive.microsofttranslator.com/translate?from=${"auto"===a?"":a}&to=${r}&api-version=3.0&includeSentenceLength=true`,JSON.stringify(t instanceof Array?t.map((t=>({Text:t}))):[{Text:t}]),{headers:{"content-type":"application/json",authorization:`Bearer ${i}`}}).then((t=>{t.data&&t.data instanceof Array&&e(s?t.data:t.data.map((t=>(t?.translations||[])?.[0]?.text||"")).join("\n")),n(s?t.data:"Invalid content #MicrosoftTranslator ")})).catch((t=>{n(s?t:t.toString())}))})):await Promise.reject("Invalid jwt #MicrosoftTranslator ")},l=async()=>(await(async()=>{if("undefined"==typeof process||process?.browser)return"undefined"!=typeof window?crypto.randomUUID():"";{const{webcrypto:t}=await import("crypto");return t.randomUUID()}})()).replaceAll("-",""),u=async(t="",e="auto",a,s)=>{if(!t)return await Promise.reject("Empty text #YandexTranslator ");if(!n(r,a||"en")||"auto"!==e&&!n(r,e||"en"))return await Promise.reject("Not supported target language #YandexTranslator ");const i="auto"===e?await(async(t="")=>{if(!t)return"_";Array.isArray(t)&&(t=t.join("\n"));try{const e=await o.get("https://translate.yandex.net/api/v1/tr.json/detect?"+new URLSearchParams({sid:await l(),srv:"android",text:t}).toString());return 200===e.data?.code&&e.data?.lang&&e.data?.lang||"_"}catch(t){return"_"}})((Array.isArray(t)?t.join(" "):t).replaceAll(/<a id=\d><><\/a>/gm,"")):e;if("_"===i)return await Promise.reject("Not supported source language #YandexTranslator ");let c=new URLSearchParams({translateMode:"context",context_title:"Twitter Monitor Translator",id:`${await l()}-0-0`,srv:"yabrowser",lang:`${i}-${a}`,format:"html",options:"2"});return await new Promise((async(e,a)=>{o.get("https://browser.translate.yandex.net/api/v1/tr.json/translate?"+c.toString()+"&text="+(t instanceof Array?t.map((t=>encodeURIComponent(t))).join("&text="):encodeURIComponent(t))).then((t=>{t?.data?.text&&t?.data?.text instanceof Array&&e(s?t.data:t.data.text.join("\n")),a(s?t.data:"Invalid content #YandexTranslator ")})).catch((t=>{a(s?t:t.toString())}))}))};return async(e="",r,s,l,d)=>{let m={content:"",message:""};try{switch(r){case"google":case"google_browser":m.content=await(async(e="",a="auto",r,s)=>{if(!e)return await Promise.reject("Empty text #GoogleTranslate ");if(!n(t,r||"en")||"auto"!==a&&!n(t,a||"en"))return await Promise.reject("Not supported target language #GoogleTranslate ");let c=new URLSearchParams({anno:"4",client:"te_lib",format:"html",v:"1.0",key:"AIzaSyBOti4mM-6x9WDnZIjIeyEU21OpBXqWBgw",sl:a,tl:r||"en",tc:"1",sr:"1",tk:i(e),mode:"1"});return await new Promise((async(t,a)=>{o.post("https://translate.googleapis.com/translate_a/t?"+c.toString(),"q="+(e instanceof Array?e.map((t=>encodeURIComponent(t))).join("&q="):encodeURIComponent(e))).then((e=>{e.data&&e.data instanceof Array&&t(s?e.data:e.data.map((t=>t?.[0]||"")).join("\n")),a(s?e.data:"Invalid content #GoogleTranslate ")})).catch((t=>{a(s?t:t.toString())}))}))})(e,s,l,!!d);break;case"microsoft":case"microsoft_browser":m.content=await c(e,s,l,!!d);break;case"sogou":case"sogou_browser":m.content=await(async(t="",e="auto",r,s)=>{if(!t)return await Promise.reject("Empty text #SogouTranslator ");if(!n(a,r||"en")||"auto"!==e&&!n(a,e||"en"))return await Promise.reject("Not supported target language #SogouTranslator ");let i=JSON.stringify({from_lang:e,to_lang:r,trans_frag:t instanceof Array?t.map((t=>({text:t}))):[{text:t}]});return await new Promise((async(t,e)=>{o.post("https://go.ie.sogou.com/qbpc/translate",`S-Param=${i}`).then((a=>{a?.data?.data?.trans_result&&a?.data?.data?.trans_result instanceof Array&&t(s?a.data:a.data.data.trans_result.map((t=>t.trans_text)).join("\n")||""),e(s?a.data:"Invalid content #SogouTranslator ")})).catch((t=>{e(s?t:t.toString())}))}))})(e,s,l,!!d);break;case"sogou":case"sogou_browser":m.content=await u(e,s,l,!!d)}}catch(t){m.message=String(t)}return m}}));
//# sourceMappingURL=translator.min.js.map
